import{u as _,r,j as e,a as R}from"./app-DerocE3t.js";import{T as W,F as Z}from"./flash-toast-DvHHOhoV.js";/* empty css            */import"./index-cEa5IYub.js";function j({d:t,size:c=20,className:n="",...l}){return e.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,...l,children:Array.isArray(t)?t.map((x,u)=>e.jsx("path",{d:x},u)):e.jsx("path",{d:t})})}const h={plus:t=>e.jsx(j,{d:"M12 5v14M5 12h14",...t}),search:t=>e.jsx(j,{d:["M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z","M21 21l-4.35-4.35"],...t}),x:t=>e.jsx(j,{d:["M18 6L6 18","M6 6l12 12"],...t}),chevLeft:t=>e.jsx(j,{d:"M15 18l-6-6 6-6",...t}),edit:t=>e.jsx(j,{d:["M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],...t}),camera:t=>e.jsx(j,{d:["M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z","M12 17a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"],...t}),package:t=>e.jsx(j,{d:["M16.5 9.4l-9-5.19","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z","M3.27 6.96L12 12.01l8.73-5.05","M12 22.08V12"],...t}),minus:t=>e.jsx(j,{d:"M5 12h14",...t}),sort:t=>e.jsx(j,{d:["M11 5h10","M11 9h7","M11 13h4","M3 17l3 3 3-3","M6 18V4"],...t})};function H({src:t,alt:c="",size:n=48,className:l="",onClick:x}){const[u,o]=r.useState(!1),[d,b]=r.useState(!1);return!t||d?e.jsx("div",{onClick:x,className:`flex items-center justify-center bg-zinc-100 dark:bg-zinc-800 rounded-lg ${l}`,style:{width:n,height:n,minWidth:n},children:h.package({size:n*.4,className:"text-zinc-300 dark:text-zinc-600"})}):e.jsxs("div",{onClick:x,className:`relative overflow-hidden rounded-lg bg-zinc-100 dark:bg-zinc-800 ${l}`,style:{width:n,height:n,minWidth:n},children:[!u&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-zinc-200 dark:bg-zinc-700"}),e.jsx("img",{src:t,alt:c,loading:"lazy",className:`w-full h-full object-cover transition-opacity duration-200 ${u?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0),onError:()=>b(!0)})]})}function X({photos:t,initial:c=0,onClose:n}){const[l,x]=r.useState(c),u=t[l];return r.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onClick:n,children:[e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("span",{className:"text-white/60 text-sm",children:[l+1," / ",t.length]}),e.jsx("button",{onClick:n,className:"text-white/60 hover:text-white p-1",children:h.x({size:24})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-2",onClick:o=>o.stopPropagation(),children:e.jsx("img",{src:u,alt:"",className:"max-w-full max-h-full object-contain rounded-lg"})}),t.length>1&&e.jsx("div",{className:"flex justify-center gap-3 p-4",children:t.map((o,d)=>e.jsx("button",{onClick:b=>{b.stopPropagation(),x(d)},className:`w-12 h-12 rounded-lg overflow-hidden border-2 transition-all ${d===l?"border-white":"border-transparent opacity-50"}`,children:e.jsx("img",{src:o,alt:"",className:"w-full h-full object-cover"})},d))})]})}function B({children:t,active:c,onClick:n,count:l}){return e.jsxs("button",{onClick:n,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all
        ${c?"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900":"bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[t,l!==void 0&&e.jsx("span",{className:`text-xs ${c?"text-white/60 dark:text-zinc-900/60":"text-zinc-400 dark:text-zinc-500"}`,children:l})]})}function U({value:t,onChange:c,min:n=0}){return e.jsxs("div",{className:"flex items-center gap-0 border border-zinc-200 dark:border-zinc-700 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(n,t-1)),className:"px-2.5 py-1.5 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 active:bg-zinc-200 transition-colors",children:h.minus({size:14})}),e.jsx("span",{className:"px-3 py-1.5 text-sm font-semibold min-w-[2.5rem] text-center bg-zinc-50 dark:bg-zinc-800/50",children:t}),e.jsx("button",{onClick:()=>c(t+1),className:"px-2.5 py-1.5 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 active:bg-zinc-200 transition-colors",children:h.plus({size:14})})]})}function G({filtered:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center mb-4",children:h.package({size:28,className:"text-zinc-300 dark:text-zinc-600"})}),e.jsx("p",{className:"text-zinc-900 dark:text-white font-semibold text-lg mb-1",children:t?"Nenhum item encontrado":"Estoque vazio"}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm max-w-[240px]",children:t?"Tente buscar por outro termo ou limpe os filtros.":"Toque no botão + para adicionar seu primeiro item ao estoque."})]})}function J({item:t,categories:c,onSave:n,onDelete:l,onClose:x}){const u=!!t,[o,d]=r.useState(t?.name||""),[b,g]=r.useState(t?.category||""),[C,k]=r.useState(""),[q,v]=r.useState(!1),[Q,A]=r.useState(t?.qty??1),[S,F]=r.useState(t?.minQty??0),[E,L]=r.useState(t?.notes||""),[I,P]=r.useState(t?.location||""),M=r.useRef(null),[T,$]=r.useState(!1),[w,D]=r.useState(()=>(t?.photos||[]).map((a,f)=>({url:a,photoId:t?.photoIds?.[f]}))),[s,i]=r.useState([]),m=a=>{const f=Array.from(a.target.files||[]),N=5-w.length,y=f.slice(0,N),p=y.map(z=>({url:URL.createObjectURL(z),file:z}));D(z=>[...z,...p]),i(z=>[...z,...y]),M.current&&(M.current.value="")},V=a=>{const f=w[a];D(N=>N.filter((y,p)=>p!==a)),f.file&&i(N=>N.filter(y=>y!==f.file))},O=()=>{if(!o.trim())return;const a=q&&C.trim()?C.trim():b;n({item:t,name:o.trim(),category:a,qty:Q,minQty:S,location:I.trim(),notes:E.trim(),photos:w,newFiles:s})};return e.jsxs("div",{className:"fixed inset-0 z-40 bg-white dark:bg-zinc-950 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-200 dark:border-zinc-800",children:[e.jsxs("button",{onClick:x,className:"flex items-center gap-1 text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:[h.chevLeft({size:20}),e.jsx("span",{className:"text-sm",children:"Voltar"})]}),e.jsx("h2",{className:"font-semibold text-zinc-900 dark:text-white",children:u?"Editar Item":"Novo Item"}),e.jsx("button",{onClick:O,disabled:!o.trim(),className:"text-sm font-semibold text-zinc-900 dark:text-white disabled:opacity-30 transition-opacity",children:"Salvar"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"p-4 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2 block",children:["Fotos (",w.length,"/5)"]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-4 px-4",children:[w.map((a,f)=>e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("img",{src:a.url,alt:"",className:"w-20 h-20 rounded-xl object-cover"}),e.jsx("button",{onClick:()=>V(f),className:"absolute -top-1.5 -right-1.5 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center shadow-sm",children:h.x({size:12})})]},f)),w.length<5&&e.jsxs("button",{onClick:()=>M.current?.click(),className:"w-20 h-20 rounded-xl border-2 border-dashed border-zinc-300 dark:border-zinc-700 flex flex-col items-center justify-center gap-1 text-zinc-400 hover:border-zinc-400 dark:hover:border-zinc-600 transition-colors shrink-0",children:[h.camera({size:20}),e.jsx("span",{className:"text-[10px]",children:"Adicionar"})]}),e.jsx("input",{ref:M,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Nome *"}),e.jsx("input",{value:o,onChange:a=>d(a.target.value),placeholder:"Ex: Compressor 12.000 BTUs",className:"w-full px-3 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white/30 transition-shadow"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Categoria"}),q?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:C,onChange:a=>k(a.target.value),placeholder:"Nome da categoria",autoFocus:!0,className:"flex-1 px-3 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white/30 transition-shadow"}),e.jsx("button",{onClick:()=>{v(!1),k("")},className:"px-3 py-2 text-zinc-500 text-sm",children:"Cancelar"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.jsx(B,{active:!b,onClick:()=>g(""),children:"Sem categoria"}),c.map(a=>e.jsx(B,{active:b===a,onClick:()=>g(a),children:a},a))]}),e.jsxs("button",{onClick:()=>v(!0),className:"text-xs text-zinc-500 hover:text-zinc-900 dark:hover:text-white flex items-center gap-1 transition-colors",children:[h.plus({size:12})," Nova categoria"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Quantidade"}),e.jsx(U,{value:Q,onChange:A})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Qtd. mínima"}),e.jsx(U,{value:S,onChange:F})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Localização"}),e.jsx("input",{value:I,onChange:a=>P(a.target.value),placeholder:"Ex: Prateleira A3, Depósito 2",className:"w-full px-3 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white/30 transition-shadow"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Observações"}),e.jsx("textarea",{value:E,onChange:a=>L(a.target.value),placeholder:"Anotações, referências, detalhes...",rows:3,className:"w-full px-3 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-transparent text-zinc-900 dark:text-white placeholder:text-zinc-400 text-sm focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white/30 resize-none transition-shadow"})]}),u&&t&&e.jsx("div",{className:"pt-4 border-t border-zinc-200 dark:border-zinc-800",children:T?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-center text-zinc-600 dark:text-zinc-400",children:"Tem certeza? Essa ação não pode ser desfeita."}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>$(!1),className:"py-2.5 rounded-xl text-sm font-medium border border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400",children:"Cancelar"}),e.jsx("button",{onClick:()=>l(t.id),className:"py-2.5 rounded-xl text-sm font-medium bg-red-500 text-white",children:"Confirmar"})]})]}):e.jsx("button",{onClick:()=>$(!0),className:"w-full py-2.5 rounded-xl text-red-500 text-sm font-medium hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",children:"Excluir item"})})]}),e.jsx("div",{className:"h-8"})]})]})}function K({item:t,onEdit:c,onClose:n,onUpdateQty:l}){const[x,u]=r.useState(null),o=t.minQty>0&&t.qty<=t.minQty;return e.jsxs("div",{className:"fixed inset-0 z-40 bg-white dark:bg-zinc-950 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-200 dark:border-zinc-800",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:[h.chevLeft({size:20}),e.jsx("span",{className:"text-sm",children:"Voltar"})]}),e.jsxs("button",{onClick:()=>c(t),className:"flex items-center gap-1.5 text-sm text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:[h.edit({size:16}),"Editar"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.photos.length>0&&e.jsx("div",{className:"flex gap-2 overflow-x-auto p-4 pb-2",children:t.photos.map((d,b)=>e.jsx("img",{src:d,alt:"",onClick:()=>u(b),className:"w-28 h-28 rounded-xl object-cover shrink-0 cursor-pointer active:scale-95 transition-transform"},b))}),e.jsxs("div",{className:"p-4 space-y-5",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:t.name}),t.category&&e.jsx("span",{className:"inline-block mt-1 text-xs font-medium text-zinc-500 dark:text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded-full",children:t.category})]}),e.jsx("div",{className:`p-4 rounded-2xl ${o?"bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/30":"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Quantidade"}),e.jsx("p",{className:`text-3xl font-bold mt-0.5 ${o?"text-amber-600 dark:text-amber-400":"text-zinc-900 dark:text-white"}`,children:t.qty}),o&&e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-0.5",children:["Estoque baixo (mín: ",t.minQty,")"]})]}),e.jsx(U,{value:t.qty,onChange:d=>l(t.id,d)})]})}),e.jsxs("div",{className:"space-y-3",children:[t.location&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-zinc-100 dark:border-zinc-800",children:[e.jsx("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Localização"}),e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-white",children:t.location})]}),t.minQty>0&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-zinc-100 dark:border-zinc-800",children:[e.jsx("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Qtd. mínima"}),e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-white",children:t.minQty})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-zinc-100 dark:border-zinc-800",children:[e.jsx("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Atualizado"}),e.jsx("span",{className:"text-sm text-zinc-600 dark:text-zinc-300",children:new Date(t.updatedAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-1.5 block",children:"Observações"}),e.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 whitespace-pre-wrap leading-relaxed",children:t.notes})]})]})]}),x!==null&&e.jsx(X,{photos:t.photos,initial:x,onClose:()=>u(null)})]})}function Y({item:t,onClick:c}){const n=t.minQty>0&&t.qty<=t.minQty;return e.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 active:bg-zinc-100 dark:active:bg-zinc-800 transition-colors text-left",children:[e.jsx(H,{src:t.photos[0],alt:t.name,size:48}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-zinc-900 dark:text-white truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[t.category&&e.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 truncate",children:t.category}),t.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"·"}),e.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 truncate",children:t.location})]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("span",{className:`text-lg font-bold ${n?"text-amber-500":"text-zinc-900 dark:text-white"}`,children:t.qty}),n&&e.jsx("p",{className:"text-[10px] text-amber-500 font-medium",children:"BAIXO"})]})]})}function re(){const{items:t}=_().props,[c,n]=r.useState("list"),[l,x]=r.useState(null),[u,o]=r.useState(null),[d,b]=r.useState(""),[g,C]=r.useState(""),[k,q]=r.useState("name"),[v,Q]=r.useState(!1),A=r.useRef(null),S=r.useMemo(()=>[...new Set(t.map(i=>i.category).filter(Boolean))].sort(),[t]),F=r.useMemo(()=>{const s={};return t.forEach(i=>{i.category&&(s[i.category]=(s[i.category]||0)+1)}),s},[t]),E=r.useMemo(()=>{let s=[...t];if(d){const i=d.toLowerCase();s=s.filter(m=>m.name.toLowerCase().includes(i)||m.category?.toLowerCase().includes(i)||m.location?.toLowerCase().includes(i)||m.notes?.toLowerCase().includes(i))}return g&&(s=s.filter(i=>i.category===g)),s.sort((i,m)=>k==="name"?i.name.localeCompare(m.name,"pt-BR"):k==="qty"?i.qty-m.qty:k==="recent"?m.updatedAt-i.updatedAt:0),s},[t,d,g,k]),L=r.useMemo(()=>t.filter(s=>s.minQty>0&&s.qty<=s.minQty).length,[t]),I=({item:s,name:i,category:m,qty:V,minQty:O,location:a,notes:f,photos:N,newFiles:y})=>{const p=new FormData;p.append("name",i),p.append("category",m),p.append("qty",String(V)),p.append("min_qty",String(O)),p.append("location",a),p.append("notes",f),N.forEach(z=>{z.photoId&&p.append("kept_photo_ids[]",String(z.photoId))}),y.forEach(z=>p.append("photos[]",z)),s?R.post(`/stock/${s.id}`,p,{onSuccess:()=>{n("list"),o(null)},preserveScroll:!0}):R.post("/stock",p,{onSuccess:()=>{n("list"),o(null)},preserveScroll:!0})},P=s=>{R.delete(`/stock/${s}`,{onSuccess:()=>{n("list"),o(null),x(null)},preserveScroll:!0})},M=(s,i)=>{R.patch(`/stock/${s}/qty`,{qty:i},{preserveScroll:!0}),x(m=>m?.id===s?{...m,qty:i,updatedAt:Date.now()}:m)},T=s=>{x(s),n("detail")},$=s=>{o(s||null),n("form")},w=()=>{o(null),n("form")};r.useEffect(()=>{v&&A.current?.focus()},[v]);const D={name:"A-Z",qty:"Quantidade",recent:"Recentes"};return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white max-w-lg mx-auto relative",children:[e.jsx(W,{position:"top-center",richColors:!0}),e.jsx(Z,{}),e.jsxs("div",{className:"sticky top-0 z-30 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"px-4 pt-3 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Estoque"}),e.jsxs("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-0.5",children:[t.length," ",t.length===1?"item":"itens",L>0&&e.jsxs("span",{className:"text-amber-500 ml-1",children:["· ",L," baixo",L>1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Q(!v),className:`p-2 rounded-xl transition-colors ${v?"bg-zinc-100 dark:bg-zinc-800":"hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:h.search({size:18,className:"text-zinc-600 dark:text-zinc-400"})}),e.jsxs("button",{onClick:()=>q(s=>s==="name"?"qty":s==="qty"?"recent":"name"),className:"p-2 rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors flex items-center gap-1",children:[h.sort({size:18,className:"text-zinc-600 dark:text-zinc-400"}),e.jsx("span",{className:"text-[10px] font-medium text-zinc-400",children:D[k]})]})]})]}),v&&e.jsxs("div",{className:"mt-2 relative",children:[h.search({size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400"}),e.jsx("input",{ref:A,value:d,onChange:s=>b(s.target.value),placeholder:"Buscar por nome, categoria, local...",className:"w-full pl-9 pr-8 py-2 rounded-xl bg-zinc-100 dark:bg-zinc-800 text-sm text-zinc-900 dark:text-white placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-zinc-300 dark:focus:ring-zinc-600 transition-shadow"}),d&&e.jsx("button",{onClick:()=>b(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-zinc-400 hover:text-zinc-600",children:h.x({size:14})})]})]}),S.length>0&&e.jsxs("div",{className:"flex gap-1.5 overflow-x-auto px-4 pb-2.5 no-scrollbar",children:[e.jsx(B,{active:!g,onClick:()=>C(""),count:t.length,children:"Todos"}),S.map(s=>e.jsx(B,{active:g===s,onClick:()=>C(g===s?"":s),count:F[s],children:s},s))]})]}),e.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:E.length===0?e.jsx(G,{filtered:!!(d||g)}):E.map(s=>e.jsx(Y,{item:s,onClick:()=>T(s)},s.id))}),e.jsx("div",{className:"h-24"}),e.jsx("button",{onClick:w,className:"fixed bottom-6 right-6 w-14 h-14 rounded-2xl bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 flex items-center justify-center shadow-lg shadow-zinc-900/30 dark:shadow-black/40 active:scale-95 transition-transform z-30 max-w-lg",style:{right:"max(1.5rem, calc((100vw - 32rem) / 2 + 1.5rem))"},children:h.plus({size:24})}),c==="detail"&&l&&e.jsx(K,{item:t.find(s=>s.id===l.id)||l,onEdit:s=>$(s),onClose:()=>{n("list"),x(null)},onUpdateQty:M}),c==="form"&&e.jsx(J,{item:u,categories:S,onSave:I,onDelete:P,onClose:()=>{n("list"),o(null)}}),e.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})}export{re as default};
